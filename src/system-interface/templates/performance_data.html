
{% extends "base.html" %}

{% block content %}


<style>
    .diagram_list{

        height:100px;
        width: auto;
        overflow-y: scroll;
        float:right;
        position:relative;
        margin-top:-30%;
        background-color: #E0FFFF;
        border: 2px solid black;
    }


    ul.a {
        list-style-type: none;
        margin: 0;
        padding: 5px;
    }


    ul.a li:hover {
        display: block;
        color: black;
        background-color: #ADD8E6;
    }

.previous {
  background-color: #56dfd8;
  color: white;
}

.next {
  background-color: #56dfd8;
  color: white;
}

.round {
  border-radius: 50%;
  margin: 20px;
  
}
a {
    position:relative ;
    left: 170px;
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
}

a:hover {
  background-color: #ddd;
  color: black;
}
img {
    width: 550px;
    padding: 20px;
}
</style>

<div class="container">
    <div class="page-header">
        <h1>Performance Data</h1>
    </div>
    <form method="post">
        <div role="tabpanel">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#tables" aria-controls="tables" role="tab" data-toggle="tab">Tables</a></li>
                <li><a href="#diagrams" aria-controls="diagram" role="tab" data-toggle="tab">Time Phase Diagrams</a></li>
            </ul>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="tables">

                </div>

                <div role="tabpanel" class="tab-pane fade" id="diagrams">

                        <img src="../nojournal/bin/performance-measurement-diagrams/{{diagrams[0]}}" alt="not showing currently" width="600" height="500" id="picture"/>
                        <br>
                        
                        <a href="#" onclick="cursorPrev()" class="previous round">&#8249;</a>
                        <a href="#" onclick="cursorNext()" class="next round">&#8250;</a>
                
                
                    <div class="diagram_list" id="list">
                        <ul class = "a">

                            {% for diagram in diagrams %}
                            <li id="imgList" onclick="changeDiagram('{{ loop.index }}')">{{diagram}}</li>
                            {% endfor %}

                        </ul>
                           
                    </div>

                </div>
            </div>


        </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

<script type="text/javascript">

var diagrams = JSON.parse('{{ diagrams | tojson }}') ;

$(document).ready(function(){
setInterval(function(){
    $("#list").load(" #list > *");
    /*$("#list").load(window.location.href + " #list" );*/
      console.log("reloaded");

}, 5000);
});

        



function changeDiagram(ind){
    
    var newImg = '../nojournal/bin/performance-measurement-diagrams/' + diagrams[ind-1] ;
    document.getElementById("picture").src = newImg;


}

function cursorNext(){

    var imgPath = document.getElementById("picture").getAttribute("src") ;
    var img = imgPath.split("/") ;
    var ind = diagrams.indexOf(img.at(-1)) ;
    if(ind != diagrams.length -1){
    var newImg = '../nojournal/bin/performance-measurement-diagrams/' + diagrams.at(ind+1) ;
    document.getElementById("picture").src = newImg ;
    }
}

function cursorPrev(){
    var imgPath = document.getElementById("picture").getAttribute("src") ;
    var img = imgPath.split("/") ;
    var ind = diagrams.indexOf(img.at(-1)) ;
    if(ind != 0){
    var newImg = '../nojournal/bin/performance-measurement-diagrams/' + diagrams.at(ind-1) ;
    document.getElementById("picture").src = newImg;
    }
}





</script>





{% endblock %}
