version: "3.8"
services:

    daisy-gavilan:
        build:
            context: $MMITSS_ROOT/mmitss
            dockerfile: $MMITSS_ROOT/mmitss/build/dockerfiles/x86/Dockerfile.mrp-simulation_x86
        container_name: daisy-gavilan
        volumes:
          - type: bind
            source: $MMITSS_ROOT/mmitss/config/Anthem/Daisy-Gavilan/nojournal
            target: /nojournal
        networks:    
            mmitss_vlan:
                ipv4_address: 10.12.6.3    

    simulation-tools:
        build:
            context: $MMITSS_ROOT/mmitss
            dockerfile: $MMITSS_ROOT/mmitss/build/dockerfiles/x86/Dockerfile.simulation-tools_x86
        container_name: simulation-tools
        volumes:
          - type: bind
            source: $MMITSS_ROOT/mmitss/config/simulation-tools/nojournal
            target: /nojournal
        networks:    
            mmitss_vlan:
                ipv4_address: 10.12.6.20

networks:
    mmitss_vlan:
        driver: macvlan
        driver_opts:
            parent: enp0s31f6
        ipam:
            config:
              - subnet: 10.12.6.0/24

