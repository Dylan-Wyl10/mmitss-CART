#-----------------------------------------------------------------------------#
#    Dockerfile to build an x86 platform image for a simulated intersection   #
#    Image name: mmitssuarizona/mmitss-mrp-simulation-x86                     #
#-----------------------------------------------------------------------------#
FROM mmitssuarizona/mmitss-x86-base:1.0

COPY build/bin/TrafficControllerInterface/x86/M_TrafficControllerInterface /mmitss
COPY build/bin/PriorityRequestSolver/x86/M_PriorityRequestSolver /mmitss
COPY build/bin/PriorityRequestServer/x86/M_PriorityRequestServer /mmitss
COPY build/bin/SnmpEngine/x86/M_SnmpEngine /mmitss
COPY build/bin/MapSpatBroadcaster/x86/M_MapSpatBroadcaster /mmitss
COPY build/bin/SystemInterface/x86/M_SystemInterface /mmitss
COPY build/bin/V2XDataCollector/x86/M_V2XDataCollector /mmitss
COPY build/bin/SignalCoordinationRequestGenerator/x86/M_SignalCoordinationRequestGenerator /mmitss

ENTRYPOINT ["/usr/bin/supervisord", "--configuration=/nojournal/bin/supervisord.conf"]

